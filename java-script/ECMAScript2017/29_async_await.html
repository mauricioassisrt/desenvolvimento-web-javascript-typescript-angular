<!DOCTYPE html>
<html lang="en">

<head>
    <title>async await</title>
</head>

<body>
    <script>
        let processoAsync = new Promise((resolve, reject) => {
            setTimeout(() => resolve('sucesso'), 3000)
        })

        async function recuperarDados() {
            await processoAsync.then(p => console.log(p))
            console.log('processamento asynchronous 1')

            await fetch('https://jsonplaceholder.typicode.com/comments')
                .then(r => r.json())
                .then(d => console.log('Coments', d))
            console.log('processamento asynchronous 2')

            await fetch('https://jsonplaceholder.typicode.com/posts')
                .then(r => r.json())
                .then(d => console.log('posts', d))
            return 'Fim'
        }
        recuperarDados().then(p => console.log(p))
    </script>
</body>

</html>